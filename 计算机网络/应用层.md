<a name="xUGkM"></a>
# 应用层常见协议
<a name="IAysy"></a>
## HTTP：超文本传输协议
**超文本传输协议（HTTP，HyperText Transfer Protocol）**主要是为Web浏览器与Web服务器之间的通信而设计的。当我们使用浏览器浏览网页的时候，我们网页就是通过`HTTP`请求进行加载的。<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/35204765/1678328973013-5fbc472b-4523-4493-a84a-39cb0468fdf8.png#averageHue=%23deedfa&clientId=u27d2790a-1f06-4&from=paste&height=339&id=u88b5d522&name=image.png&originHeight=424&originWidth=565&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34926&status=done&style=none&taskId=ued4451c1-d1eb-4b50-8161-e9296307f29&title=&width=452)<br />`HTTP`协议是基于`TCP`协议，发送`HTTP`请求之前要先建立`TCP`连接也就是要经历3次握手。目前使用的`HTTP`协议大部分都是1.1.在1.1的协议里面，默认是开启了`Keep-Alive`的，这样的话建立的连接就可以在多次请求中被复用了。<br />另外，`HTTP`协议是“无状态”的协议，它无法记录客户端用户的状态，一般我们都是通过`Session`来记录客户端用户的状态。
<a name="u13h0"></a>
## SMTP：电子邮件传输（发送）协议
**简单邮件传输 （发送）协议（SMTP，Simple Mail Transfer Protocol）**基于`TCP`协议，用来发送电子邮件。<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/35204765/1678329318705-26741e5f-1764-48f1-897d-17bd0ed9859e.png#averageHue=%23e7e7e7&clientId=u27d2790a-1f06-4&from=paste&height=359&id=u30050e54&name=image.png&originHeight=449&originWidth=708&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=37867&status=done&style=none&taskId=u20fd9537-efe0-441a-b639-c95f12e0a26&title=&width=566.4)<br />注意：**接收邮件的协议不是SMTP而是POP3协议。**<br />`SMTP`协议设计的内容较多，下面连两个比较重要：

1. 电子邮件的发送过程
2. 如何判断邮箱是真正存在的。
<a name="by31B"></a>
### 电子邮件的发送过程
比如我的邮箱是“xxx@163.com”，我要向“yyy@qq.com”发送邮件，整个过程分为以下几步：

1. 通过**SMTP**协议，我将写好的邮件交给163邮箱服务器（邮局）。
2. 163服务器发现发送的邮箱是qq邮箱，然后使用**SMTP**协议将我的右键转发到qq邮箱服务器。
3. qq邮箱服务器接收邮件之后就通知邮箱为“yyy@qq.com”的用户来接受右键，然后用户就通过**POP3/IMAP**协议将邮件取出。
<a name="F7UBj"></a>
### 如何判断邮箱是真正存在的？
很多场景（比如邮件营销）下面我们需要判断我们要发送的邮箱地址是否真的存在，这个时候我们需要利用`SMTP`协议来检测。

1. 查找邮箱域名对应的`SMTP`服务器地址
2. 尝试与服务器建立连接
3. 连接成功过后尝试向需要验证的邮箱发送邮件
4. 根据返回结果判定邮箱地址的真实性
<a name="QmbDm"></a>
## POP3/IMAP：邮件接收的协议
只需要了解**POP3和IMAP两者都是负责邮件接收的协议**即可。**SMTP协议只负责右键的发送，真正负责接收的协议是POP3/IMAP。**<br />IMAP协议相比于POP3更新一点，为用户提供的可选功能也更多一点，几乎所有现代电子邮件客户端和服务端都支持IMAP。大部分网络邮件服务提供商都支持POP3和IMAP。
<a name="OS0az"></a>
## FTP：文件传输协议
**FTP**协议主要提供文件传输服务，基于TCP实现可靠的传输。使用`FTP`传输文件的好处就是可以屏蔽操作系统和文件存储方式。<br />`FTP`是基于客户-服务器（C/S）模型而设计的，在客户端与`FTP`服务器之间简历两个连接。如果我们要基于`FTP`协议开发一个文件传输的软件的话，首先要搞清楚出`FTP`的远离了。关于`FTP`的原理：<br />FTP的独特的优势同时也是与其他客户服务器程序最大的不同点就在于它在两台通信的主机之间使用了两条TCP连接（其他客户服务应用程序一般只有一条TCP连接）：

1. 控制连接：用于传送控制信息（命令和响应）
2. 数据连接：用于数据传送。

这种将命令和数据分开传送的思想大大提高了FTP的效率<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/35204765/1678366056334-1f2001b1-65ed-4dc0-b979-b90c8cec7466.png#averageHue=%23fefefe&clientId=u26a2834c-4af8-4&from=paste&height=347&id=u6a999317&name=image.png&originHeight=434&originWidth=834&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=90213&status=done&style=none&taskId=u3f387745-da53-4b57-b2f6-8c7c14f1457&title=&width=667.2)
<a name="gH2QZ"></a>
## Telnet：远程登录协议
**Telnet协议**通过一个终端登录到其他服务器，建立在可靠的传输协议`TCP`之上。`Telnet`协议的最大缺点之一是所有数据（包括用户名和密码）均以明文形式发送，这有潜在的安全风险。这就是为什么如今很少使用`Telnet`并被一种称为SSH的非常安全的协议所取代的主要原因。
<a name="Ibh5a"></a>
## SSH：安全的网络传输协议
**SSH（Secure Shell）**是目前较可靠，专为远程登录绘画和其他网络服务提供安全性的协议。利用`SSH`协议可以有效防止远程管理过程中的信息泄露问题。`SSH`建立在可靠的传输协议`TCP`之上。<br />**Telnet和SSH之间的主要区别在于SSH协议会对传输的数据进行加密保证数据安全性。**
<a name="KwiIb"></a>
# HTTP vs HTTPS
<a name="txKcF"></a>
## HTTP协议
<a name="LN81q"></a>
### HTTP协议介绍
HTTP协议，全称超文本传输协议（Hypertext Transfer Protocol）。顾名思义，HTTP协议就是用来规范超文本的传输，超文本，也就是网络上的包括文本在内的各式各样的消息，具体来说，主要是为了规范浏览器和服务器端的行为的。<br />并且，HTTP是一个无状态协议，也就是说服务器不会维护任何有关客户端过去所发请求的消息。这其实是一种懒政，有状态协议会更加复杂，需要维护状态（历史信息），而且如果客户或服务器失效，会产生状态的不一致，解决这种不一致的代价更高。
<a name="cUeKs"></a>
### HTTP协议通信过程
HTTP是应用层协议，它以`TCP`（传输层）作为底层协议，默认端口为80.通信过程主要如下：

1. 服务器在80端口等待客户的请求。
2. 浏览器发起到服务器的`TCP`连接（创建套接字`Socket`）。
3. 服务器接收来自浏览器的`TCP`连接。
4. 浏览器（HTTP客户端）与Web服务器（HTTP服务器）交换HTTP消息。
5. 关闭TCP连接。
<a name="DdoSS"></a>
### HTTP协议优点
扩展性强、速度快、跨平台支持性好。
<a name="ep48X"></a>
## HTTPS协议
<a name="uqKKz"></a>
### HTTPS协议介绍
`HTTPS`协议（Hyper Text Transfer Protocol Secure），是`HTTP`的加强安全版本。`HTTPS`是基于`HTTP`的，也是用`TCP`作为底层协议，并额外使用`SSL/TLS`协议用作加密和安全认证。默认端口是`443`。<br />`HTTPS`协议中，`SSL`通道通常使用基于密钥的加密算法，密钥长度通常是40比特或128比特。
<a name="QWHn1"></a>
### HTTPS协议优点
保密性好、信任度高。
<a name="Qo9o0"></a>
## HTTPS的核心-SSL/TLS协议
HTTPS之所以能达到较高的安全性要求，就是结合了`SSL/TLS`和`TCP`协议，对通信数据进行加密，解决了HTTP数据透明的问题。
<a name="VAhwJ"></a>
### SSL和TLS的区别？
SSL嘿人TLS没有太大的区别。<br />SSL值安全套接字协议（Secure Sockets Layer），首次发布于1996年。
